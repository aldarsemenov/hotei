{"ast":null,"code":"var _jsxFileName = \"/Users/aldarsemenov/react/hotei/hotei/src/pages/CartPage/index.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { makeOrder } from \"../../store/slices/cartSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CartPage = ({\n  cart,\n  sum\n}) => {\n  _s();\n  const [orderData, setOrderData] = useState({\n    name: \"\",\n    phone: \"\"\n  });\n  const dispatch = useDispatch();\n  const onChangeInput = e => {\n    setOrderData({\n      ...orderData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const sendOrder = () => {\n    const data = orderData;\n    data.foods = cart.items.map(item => item.food.id);\n    data.items_qty = cart.items.map(item => item.qty);\n    dispatch(makeOrder(data));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: cart.items.loading !== \"fulfilled\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        children: cart.items.map(item => {\n          var _item$food$attributes, _item$food$attributes2;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [(_item$food$attributes = item.food.attributes) === null || _item$food$attributes === void 0 ? void 0 : _item$food$attributes.name, \" - \", (_item$food$attributes2 = item.food.attributes) === null || _item$food$attributes2 === void 0 ? void 0 : _item$food$attributes2.price, \"\\u0440\\u0443\\u0431 X \", item.qty, \"\\u0448\\u0442\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"\\u0418\\u0442\\u043E\\u0433\\u043E: \", sum, \" \\u0440\\u0443\\u0431\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), !!cart.items.length && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"flex flex-col max-w-[300px]\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0418\\u043C\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"name\",\n            onChange: onChangeInput,\n            className: \"border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"phone\",\n            onChange: onChangeInput,\n            className: \"border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: cart.loading == \"pending\",\n          onClick: sendOrder,\n          children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(CartPage, \"jzDBHpEW4To9SzhnxZJh/LCLQyQ=\", false, function () {\n  return [useDispatch];\n});\n_c = CartPage;\nexport default CartPage;\nvar _c;\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"names":["useState","useDispatch","makeOrder","jsxDEV","_jsxDEV","Fragment","_Fragment","CartPage","cart","sum","_s","orderData","setOrderData","name","phone","dispatch","onChangeInput","e","target","value","sendOrder","data","foods","items","map","item","food","id","items_qty","qty","children","loading","_item$food$attributes","_item$food$attributes2","attributes","price","fileName","_jsxFileName","lineNumber","columnNumber","length","className","onChange","disabled","onClick","_c","$RefreshReg$"],"sources":["/Users/aldarsemenov/react/hotei/hotei/src/pages/CartPage/index.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { makeOrder } from \"../../store/slices/cartSlice\";\n\nconst CartPage = ({ cart, sum }) => {\n  const [orderData, setOrderData] = useState({\n    name: \"\",\n    phone: \"\",\n  });\n\n  const dispatch = useDispatch();\n\n  const onChangeInput = (e) => {\n    setOrderData({ ...orderData, [e.target.name]: e.target.value });\n  };\n\n  const sendOrder = () => {\n    const data = orderData;\n    data.foods = cart.items.map((item) => item.food.id);\n    data.items_qty = cart.items.map((item) => item.qty);\n    dispatch(makeOrder(data));\n  };\n  return (\n    <>\n      {cart.items.loading !== \"fulfilled\" && (\n        <div>\n          <ul>\n            {cart.items.map((item) => (\n              <li>\n                {item.food.attributes?.name} - {item.food.attributes?.price}руб\n                X {item.qty}шт\n              </li>\n            ))}\n          </ul>\n          <strong>Итого: {sum} руб</strong>\n\n          {!!cart.items.length && (\n            <>\n              <form className=\"flex flex-col max-w-[300px]\">\n                <label>Имя</label>\n                <input\n                  name=\"name\"\n                  onChange={onChangeInput}\n                  className=\"border\"\n                ></input>\n                <label>Телефон</label>\n                <input\n                  name=\"phone\"\n                  onChange={onChangeInput}\n                  className=\"border\"\n                ></input>\n              </form>\n              <button disabled={cart.loading == \"pending\"} onClick={sendOrder}>\n                Отправить заказ\n              </button>\n            </>\n          )}\n        </div>\n      )}\n     \n    </>\n  );\n};\n\nexport default CartPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}